---
// src/components/ProjectCard.astro
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

interface Props {
  project: CollectionEntry<"projects">;
}

const { project } = Astro.props;
---

<a
  href={project.data.liveUrl || project.data.githubUrl || "#"}
  target="_blank"
  rel="noopener noreferrer"
  class="group block border-2 border-border rounded-2xl no-underline transition-all hover:(border-accent dark:border-dark-accent) overflow-hidden"
>
  {
    project.data.heroImage && (
      <Image
        src={project.data.heroImage}
        alt={project.data.title}
        width={400}
        height={225}
        class="w-full object-cover aspect-video"
      />
    )
  }
  <div class="p-6">
    <h2
      class="font-serif mb-2 group-hover:text-accent dark:group-hover:text-dark-accent transition-colors"
    >
      {project.data.title}
    </h2>
    <p class="text-secondary dark:text-dark-secondary mb-4 leading-relaxed">
      {project.data.description}
    </p>
    <div class="flex flex-wrap gap-2 mt-auto">
      {
        project.data.techStack.map((tech: string) => (
          <span class="text-xs bg-elementHoverBg dark:bg-dark-elementHoverBg text-secondary dark:text-dark-secondary py-1 px-3 rounded-full">
            {tech}
          </span>
        ))
      }
    </div>
  </div>
</a>
