ì•„ë˜ ì˜¤ë¥˜ ì™œëœ¨ëŠ”ê±°ì§€?

ì‚¬ì´íŠ¸ ì ‘ì†ì€ ì˜ë˜ëŠ”ë° ë§ì´ì§€

0disoft.github.io on î‚  main [!] is ğŸ“¦ v0.0.2 via ğŸ¥Ÿ v1.2.18

â¯ bun run dev

$ astro dev

17:00:37 [WARN] The injected route "/_image" by @astrojs/image specifies the entry point with the "entryPoint" property. This property is deprecated, please use "entrypoint" instead.

17:00:41 [types] Generated 3ms

17:00:46 [content] Syncing content

17:00:46 [content] Synced content



astro v5.11.0 ready in 13116 ms



â”ƒ Local http://localhost:4321/

â”ƒ Network use --host to expose



17:00:47 watching for file changes...

X [ERROR] Could not resolve "virtual:image-loader"



node_modules/@astrojs/image/dist/endpoint.js:2:19:

2 â”‚ import loader from "virtual:image-loader";

â•µ ~~~~~~~~~~~~~~~~~~~~~~



You can mark the path "virtual:image-loader" as external to exclude it from the bundle, which will

remove this error and leave the unresolved path in the bundle.



17:00:47 [ERROR] [vite] error while updating dependencies:

Error: Build failed with 1 error:

node_modules/@astrojs/image/dist/endpoint.js:2:19: ERROR: Could not resolve "virtual:image-loader"

at failureErrorWithLog (C:\Users\zerodi\Documents\workspace\0disoft.github.io\node_modules\esbuild\lib\main.js:1463:15)

at C:\Users\zerodi\Documents\workspace\0disoft.github.io\node_modules\esbuild\lib\main.js:924:25

at C:\Users\zerodi\Documents\workspace\0disoft.github.io\node_modules\esbuild\lib\main.js:1341:9

at process.processTicksAndRejections (node:internal/process/task_queues:105:5)

17:00:57 [200] /projects 1156msÂ 

---------


@astrojs/image íŒ¨í‚¤ì§€ê°€ deprecatedëëŠ”ë° ì•„ì§ ì‚¬ìš© ì¤‘ì´ë¼ì„œ ìƒê¸°ëŠ” ë¬¸ì œë‹¤.

ì›ì¸:



@astrojs/imageëŠ” Astro v3ë¶€í„° deprecated

Astro v4+ì—ì„œëŠ” ë‚´ì¥ ì´ë¯¸ì§€ ìµœì í™” ê¸°ëŠ¥(astro:assets) ì‚¬ìš©

virtual:image-loader ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ì–´ì„œ ì—ëŸ¬ ë°œìƒ

í•´ê²° ë°©ë²•:



@astrojs/image ì œê±°í•˜ê³  ë‚´ì¥ ê¸°ëŠ¥ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜:

bun remove @astrojs/image

astro.config.mjsì—ì„œ ì„¤ì • ì œê±°:

// ê¸°ì¡´ (ì œê±°)

import { defineConfig } from 'astro/config';

import image from '@astrojs/image';



export default defineConfig({

  integrations: [image()], // ì´ ì¤„ ì‚­ì œ

});



// ìˆ˜ì • í›„

import { defineConfig } from 'astro/config';



export default defineConfig({

  // ì´ë¯¸ì§€ ìµœì í™”ëŠ” ì´ì œ ê¸°ë³¸ ë‚´ì¥

});

ì½”ë“œì—ì„œ import êµ¬ë¬¸ ìˆ˜ì •:

// ê¸°ì¡´

import { Image } from '@astrojs/image/components';



// ìˆ˜ì • í›„

import { Image } from 'astro:assets';

ì´ë¯¸ì§€ ì‚¬ìš© ë°©ì‹ ì—…ë°ì´íŠ¸:

---

// ê¸°ì¡´

import { Image } from '@astrojs/image/components';



// ìˆ˜ì • í›„

import { Image } from 'astro:assets';

import myImage from '../assets/image.jpg';

---



<!-- ê¸°ì¡´ -->

<Image src="/images/photo.jpg" alt="Photo" width={400} height={300} />



<!-- ìˆ˜ì • í›„ -->

<Image src={myImage} alt="Photo" />

ì´ë¯¸ì§€ ìµœì í™” ê¸°ëŠ¥ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ë˜ë©´ì„œ ë” ì•ˆì •ì ìœ¼ë¡œ ì‘ë™í•œë‹¤. ë§ˆì´ê·¸ë ˆì´ì…˜ í›„ bun run dev ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ ì—ëŸ¬ ì‚¬ë¼ì§„ë‹¤.



ì´ ì˜¤ë¥˜ëŠ” `@astrojs/image` í†µí•©ì´ **ë” ì´ìƒ Astro v5ì—ì„œ ê³µì‹ì ìœ¼ë¡œ ì§€ì›ë˜ì§€ ì•Šê¸° ë•Œë¬¸**ì…ë‹ˆë‹¤. Astro v5ë¶€í„°ëŠ” `@astrojs/image`ê°€ **deprecated** ë˜ì—ˆê³ , ëŒ€ì‹  **Astroì˜ ë‚´ì¥ Assets API**ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.



---



### ğŸ” ì˜¤ë¥˜ ì›ì¸ ë¶„ì„

```bash

X [ERROR] Could not resolve "virtual:image-loader"

```

- `@astrojs/image`ëŠ” **ê°€ìƒ ëª¨ë“ˆ(`virtual:image-loader`)** ì„ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”ë°, Astro v5ì˜ Vite ë²„ì „ì´ ì—…ë°ì´íŠ¸ë˜ë©´ì„œ **í•´ë‹¹ ê°€ìƒ ëª¨ë“ˆì„ ë” ì´ìƒ í•´ì„í•  ìˆ˜ ì—†ê²Œ ë¨**.

- `@astrojs/image`ëŠ” **Astro v4ê¹Œì§€ë§Œ ê³µì‹ ì§€ì›**ë©ë‹ˆë‹¤.



---



### âœ… í•´ê²° ë°©ë²•

#### 1. `@astrojs/image` ì œê±°

```bash

bun remove @astrojs/image

```



#### 2. `astro.config.mjs`ì—ì„œ `@astrojs/image` í†µí•© ì œê±°

```js

// astro.config.mjs

export default defineConfig({

Â  // âŒ @astrojs/image í†µí•© ì œê±°

Â  integrations: [

Â  Â  // ë‹¤ë¥¸ í†µí•©ë“¤...

Â  ],

});

```



#### 3. ë‚´ì¥ Assets APIë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜

Astro v5ë¶€í„°ëŠ” **ë³„ë„ì˜ í†µí•© ì—†ì´** ì´ë¯¸ì§€ë¥¼ ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



**ì˜ˆì‹œ: ê¸°ì¡´ ì½”ë“œ â†’ ìƒˆ ì½”ë“œ**

```astro

---

// âŒ ì˜ˆì „ ë°©ì‹ (@astrojs/image)

import { Image } from '@astrojs/image/components';

---



<!-- âŒ ë” ì´ìƒ ì‘ë™í•˜ì§€ ì•ŠìŒ -->

<Image src="/hero.png" width={640} height={360} format="webp" />

```



```astro

---

// âœ… ìƒˆ ë°©ì‹ (Astro v5 ë‚´ì¥ Assets)

import hero from '/src/assets/hero.png';

---



<!-- âœ… ìë™ ìµœì í™” -->

<img src={hero.src} width={hero.width} height={hero.height} alt="Hero" />

```



---



### ğŸš¨ ì°¸ê³ ì‚¬í•­

- **GitHub Pages ë°°í¬**ëŠ” ì •ìƒ ì‘ë™í•˜ì§€ë§Œ, **ë¡œì»¬ ê°œë°œ ì„œë²„ì—ì„œë§Œ ì˜¤ë¥˜ ë°œìƒ** â†’ ì‹¤ì œ ë°°í¬ì—ëŠ” ì˜í–¥ ì—†ìŒ.

- ë§Œì•½ **Cloudflare Pages**ë‚˜ **Netlify**ì—ì„œ ë¹Œë“œ ì‹¤íŒ¨í•œë‹¤ë©´, ìœ„ ë§ˆì´ê·¸ë ˆì´ì…˜ í•„ìˆ˜.



---



### ğŸ“Œ ìš”ì•½

| í•­ëª© | ìƒíƒœ |

|------|------|

| `@astrojs/image` | âŒ Deprecated (Astro v5) |

| í•´ê²°ì±… | âœ… ë‚´ì¥ Assets APIë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ |

| ê¸´ê¸‰ë„ | ğŸ”¶ ë†’ìŒ (ë¹Œë“œ ì‹¤íŒ¨ ê°€ëŠ¥ì„±) |



ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œëŠ” [Astro ê³µì‹ ë¬¸ì„œ](https://docs.astro.build/en/guides/images/#upgrade-from-astrojsimage)ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.